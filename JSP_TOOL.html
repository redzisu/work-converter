<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>짔쑤</title>
</head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.14.8/beautify.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.14.8/beautify-html.min.js"></script><style>
/*color global variable */
:root {
	--red 		: #cc4d29;   --blue 	: #0062b8; --green 	   : #007a5a;
	--grey 		: #ddddddd1; --darkGrey	: #b0b0b0; --lightGrey : #dfdfdf29;
	--lightGreen: #007a590c; --darkNavy : #191939; --lightNavy : #9494B8;
	--Navy      : #4C4C79;
}

/*tab css*/
html,body {width:100%; box-sizing: border-box;}
body,div,ul,li{margin:0; padding:0; font-size: 13px;}
ul,li {list-style:none;}
.tabs{float:left; width:100%; }
.tabnav{font-size:0; border:1px solid var(--grey);}
.tabnav li{display: inline-block;  height:46px; text-align:center; border-right:1px solid var(--grey);}
.tabnav li a:before{content:""; position:absolute; left:0; top:0px; width:100%; height:3px; }
.tabnav li a.active:before{background:var(--green);}
.tabnav li a.active{border-bottom:1px solid white;}
.tabnav li a{ position:relative; display:block; background: white; color: black; padding:0 30px; line-height:46px; text-decoration:none;}
.tabnav li a:hover,
.tabnav li a.active{background:white; color:var(--green); }
.tabcontent{border:1px solid var(--grey); border-top:none; }

/* layout css*/
#tabs-1 {
	display: grid; width: 100%;
	grid-template:
		[header-left] "nav head" 0px [header-right]
		[main-left] "nav  main" 1fr [main-right]
		[footer-left] "foot foot" 1fr [footer-right]
		/ 230px 1fr;
}

header{grid-area: head; padding: 0.8em; font-size : 1.8em; color : var(--Navy);  text-align : center;}
nav {grid-area: nav; background-color: var(--lightGrey); padding: 0.8em;}
main {grid-area: main; padding: 15px;}
footer {grid-area: foot; padding: 15px; background-color: var(--lightGrey);}

.flexbox {display: flex; gap: 10px;  justify-content: center;}
.item {flex: 1; margin:5px; }
footer > .item {max-width: 300px;}

/*header css*/
h3 span {color : var(--darkNavy);position: relative; display: inline-block; padding: 5px 10px ; border-bottom: 2px solid var(--darkNavy);}
hr {border : none; border : 1px solid var(--darkNavy); width: 80%; margin: 20px;}

/* input css*/
textarea {box-sizing: border-box;-webkit-box-sizing:border-box;-moz-box-sizing: border-box;
          width: 100%; height: 100%; padding: 10px; border: solid 1px var(--grey); border-radius: 5px;}
input {	 width: 150px;  padding: 0 16px 0 12px; line-height: 30px;  height: 28px;  border: 1px solid var(--grey);	border-radius: 4px;	
		 background-color: white; color: black;}

/* button css */
button, a { text-decoration:none; color: white; border: 0px; cursor: pointer; border-radius: 2px;  font-weight:600; }
button:active, a:active{ position: relative; top: 2px;}

nav button {display: block; width: 80%; max-width: 250px; margin : 20px; padding: 13px 25px; background-color: var(--Navy);}
nav button:hover{ background-color: var(--lightNavy);}

footer  button{ display: block;  width: 100%; max-width: 300px; margin : 10px; padding: 8px 25px; background-color: white; color:black; border: 1px solid var(--darkGrey);}
footer  button:hover{ background-color: var(--lightGrey);}

.REQ {background-color: var(--darkNavy);}
/* toast css */
#toast {z-index: 10000; overflow: hidden;  visibility: hidden; opacity: 0; position: fixed; bottom: 80px; left: 50%; 
		transform: translate(-50%, 10px); transition: opacity .5s, visibility .5s, transform .5s;
		background: var(--darkGrey); color: white; padding: 15px 20px; border-radius: 30px;}
#toast.reveal { opacity: 1; visibility: visible; transform: translate(-50%, 0)}
</style>
<body>
	<header>( ಠ_ಠ )</header>
	<div id = "tabs" class="tabs">
		<ul class="tabnav">
		  <li><a href="#tabs-1">TOOL</a></li>
		</ul>
		<div class="tabcontent">
			<section id="tabs-1">
				<nav><center>
					<h3><span>MAKE Controller</span></h3>
					<input type="text" id="inId" value="15231" style="width: 50%"></input>
				    <input type="text" id="inType" value="a" style="width: 50%"></input>
					<input type="text" id="inSome" value="" style="width: 50%"></input>
					<button onclick="Rtxt.value = makeController('convertStruct', Ltxt.value); copy(Rtxt);">convertStruct</button>
					<button onclick="Rtxt.value = makeController('convertStruct2', Ltxt.value); copy(Rtxt);">, "" :</button>
					<button onclick="Rtxt.value = makeController('dataSet', Ltxt.value); copy(Rtxt);">DataSet</button>
					<button onclick="Rtxt.value = makeController('list', Ltxt.value); copy(Rtxt);">List<DataSet></button>
					<h3><span>MAKE GRID</span></h3>
					<button onclick="Rtxt.value = makeGrid('colNames', Ltxt.value); copy(Rtxt);">colNames</button>
					<button onclick="Rtxt.value = makeGrid('colNames2', Ltxt.value); copy(Rtxt);">colNames2</button>
					<button onclick="Rtxt.value = makeGrid('colModel', Ltxt.value); copy(Rtxt);">colModel</button>
					<button onclick="Rtxt.value = makeGrid('colModel2', Ltxt.value); copy(Rtxt);">colModel2</button>
					<button onclick="Rtxt.value = makeGrid('column', Ltxt.value); copy(Rtxt);">column</button>
					<button onclick="Rtxt.value = makeGrid('gridAll' , Ltxt.value); copy(Rtxt);" class="REQ">GRIDALL</button>
					<button onclick="Rtxt.value = makeGrid('colSum'  , Ltxt.value); copy(Rtxt);">=SUM('')</button>
					<button onclick="Rtxt.value = makeGrid('colSum2' , Ltxt.value); copy(Rtxt);">Sum</button>
					<hr>
					<input type="number" id="inCol" pattern="[0-9]+" style="width: 50%" value = "1"></input>
					<button onclick="Rtxt.value = makeGrid('table', Ltxt.value); copy(Rtxt);">TABLE</button>
					<button onclick="Rtxt.value = makeGrid('tableAll', Ltxt.value); copy(Rtxt);" class="REQ">TABLEALL</button>
					<button onclick="Rtxt.value = makeGrid('btn'  , Ltxt.value); copy(Rtxt);">BUTTON</button>
					<button onclick="Rtxt.value = makeGrid('input', Ltxt.value); copy(Rtxt);">INPUT</button>
					<button onclick="Rtxt.value = makeGrid('inputcalendar', Ltxt.value); copy(Rtxt);">CALENDAR</button>
					<button onclick="Rtxt.value = makeGrid('select', Ltxt.value); copy(Rtxt);">SELECT</button>
					<button onclick="Rtxt.value = makeGrid('init', Ltxt.value); copy(Rtxt);">초기화함수</button>
					<div id="toast"></div>
				</center></nav>
				<main class="flexbox">
					<div class="item"><textarea rows="30" id="Ltxt"></textarea></div>
					<div class="item"><textarea rows="30" id="Rtxt"></textarea></div>
				</main>
				<footer class="flexbox">
					<div class="item"><center>
						<h3><span>기본</span></h3>
						<button onclick="customCopy(1);">필수</button>
						<button onclick="customCopy(7);">기간</button>
						<button onclick="customCopy(8);">라디오</button>
						<button onclick="customCopy(9);">체크박스</button>
						<button onclick="customCopy(11);">width:80%</button>
						<button onclick="customCopy(16);">상단수정</button>
						<h3><span>날짜</span></h3>
						<button onclick="customCopy(6, 'ipc_GIJUNILJA', '기준일자');">GIJUNILJA</button>
						<button onclick="customCopy(6, 'ipc_MANGIILJA', '만기일자');">MANGIILJA</button>
						<button onclick="customCopy(6, 'ipc_CHEGYULILJA', '기준일자');">CHEGYULILJA</button>
						<button onclick="customCopy(6, 'ipc_BALHAENGILJA', '발행일자');">BALHAENGILJA</button>
					</center></div>
					<div class="item"><center>
						<h3><span>콤보</span></h3>
						<button onclick="customCopy(5, 'sel_DEALER', '딜러');">딜러</button>
						<button onclick="customCopy(5, 'sel_GEORAEGB', '거래구분');">거래구분</button>
						<button onclick="customCopy(5, 'sel_SPCODE', '상품분류');">상품분류</button>
						<button onclick="customCopy(5, 'sel_JASANGB', '자산구분');">자산구분</button>
						<button onclick="customCopy(5, 'sel_JASANGB', '자산구분');">자산구분</button>
						<h3><span>그리드</span></h3>
						<button onclick="customCopy(12);">footer 추가</button>
						<button onclick="customCopy(13);">가로스크롤</button>
						<button onclick="customCopy(14);">전체선택</button>
						<button onclick="customCopy(15);">그리드건수</button>
					</center></div>
					<div class="item"><center>
						<h3><span>검색</span></h3>
						<button onclick="customCopy(2, 'ipt_JONGCODE', '종목코드', 'btn_JONGHELP', 'ipt_JONGNAME', '종목명');">종목코드</button>
						<button onclick="customCopy(2, 'ipt_FUNDCODE', '펀드코드', 'btn_FUNDHELP', 'ipt_FUNDNAME', '펀드명');">펀드코드</button>
						<button onclick="customCopy(2, 'ipt_BROKER', '거래회사', 'btn_BROKERHELP', 'ipt_BROKERNAME', '거래회사명');">거래회사</button>
						<button onclick="customCopy(2, 'ipt_BOGWANCHEO', '보관처', 'btn_BOGWANCHEOHELP', 'ipt_BOGWANCHEONAME', '보관처명');">보관처</button>
						<button onclick="customCopy(2, 'ipt_LINKJONGCODE', '연계종목코드', 'btn_LINKJONGHELP', 'ipt_LINKJONGNAME', '연계자산종목명');">연계종목코드</button>
						<h3><span>버튼</span></h3>
						<button onclick="customCopy(17);">조회버튼</button>
						<button onclick="customCopy(18);">입력버튼</button>
						<button onclick="customCopy(19);">취소버튼</button>
						<button onclick="customCopy(20);">삭제버튼</button>
						<button onclick="customCopy(21);">저장버튼</button>
						<button onclick="customCopy(22);">버튼이벤트</button>
					</center></div>
					<div class="item"><center>
						<h3><span>텍스트</span></h3>
						<button onclick="customCopy(4, 'ipt_QTY', '액면');">액면</button>
						<button onclick="customCopy(4, 'ipt_MEIBCHASU', '매입차수');">매입차수</button>
						<button onclick="customCopy(4, 'ipt_DANGA', '단가');">단가</button>
						<button onclick="customCopy(4, 'ipt_HWNAYUL', '환율');">환율</button>
						<button onclick="customCopy(4, 'ipt_OAMT', '외화결제금액');">외화결제금액</button>
						<button onclick="customCopy(4, 'ipt_WAMT', '원화결제금액');">원화결제금액</button>
						<hr>
						<button onclick="customCopy(3, 'ipt_BIGO', '비고');">비고</button>
						<button onclick="customCopy(3, 'ipt_KRCODE', '표준코드');">표준코드</button>
						<button onclick="customCopy(3, 'ipt_GYEJWANO', '계좌번호');">계좌번호</button>
					</center></div>
				</footer>
		    </section> <!--end tab01-->
		</div><!--end tabContent-->
	</div><!--end tab-->
<script type="text/javascript">

	/*==================================
	  textarea 복사
	==================================*/
	function copy(textArea) {
        textArea.select();
        document.execCommand('copy');
	};

	/*==================================
	  toast 토스트 알림 기능
	==================================*/
	let removeToast;
	function toast(string) {
		const toast = document.getElementById("toast");
		toast.classList.contains("reveal") ?
			(clearTimeout(removeToast), 
			  removeToast = setTimeout(function () {document.getElementById("toast").classList.remove("reveal")}, 1000)) 
			: removeToast = setTimeout(function () {document.getElementById("toast").classList.remove("reveal")}, 1000) 
			toast.classList.add("reveal"),
			toast.innerText = string
	};
	
	/*==================================
	  최대길이문자길이 추출
	==================================*/
	function spacePretty(arr) {
		if(arr.length > 0) {
			return arr.reduce((max, item) => Math.max(max, item.length), 0);
		} else {
			return "";
		}
	};
	
	/*==================================
	  Id 언더바 제거
	==================================*/
	function delUnder(txt) {
		let newTxt = txt.replace(/(?:ipt_)?(?:ipc_)?(?:sel_)?(?:PMB_)?(?:rad_)?(.+)/g, "$1");
		return newTxt.replace(/(.+)_\D\d+$/g, "$1").toUpperCase();
	};
	
	/*==================================
	  깔끔
	==================================*/
	function cleanText(txt) {
		txt = txt.replace(/(int|char|double)\s+/g, "");
		txt = txt.replace(/\[([\wㄱ-ㅎㅏ-ㅣ가-힣]+)\]/g, "");
		txt = txt.replace(/\/\*[\s\S]*?\*\//gm, "");
		txt = txt.replace(/\"|\;/g, "");
		txt = txt.replaceAll(" ", "");
		return txt;
	};
	
	/*==================================
	  주석
	==================================*/
	function jusukText(txt) {
		var arrJusuk = txt.match(/(?:\/\*)([\s\S]*?)(?:\*\/)/gm);

		if(arrJusuk != null) {
			for (var i = 0; i < arrJusuk.length; i++) {
			  arrJusuk[i] = arrJusuk[i].replace(/\/\*|\*\//g, '');
			}

			return arrJusuk;
		} else {
			return [];
		}
		
	};
	
	/*==================================
	  그리드 변환
	==================================*/
	function makeController(Ctype, txt) {
		var tmpTxt = txt;
		var id = document.getElementById('inId').value;
		var type = document.getElementById('inType').value;
		var some = document.getElementById('inSome').value;
		let tmp = cleanText(txt);	
		let colArr = tmp.match(/\w+/gim);
		let jusukArr = jusukText(txt);
		let maxLength = spacePretty(colArr);
		
		if(Ctype == "convertStruct") {
			//return cleanText(txt);
			let txtcontent = colArr.map((item) => `${some}${item}${some}`).join("\n");
			return txtcontent;
				
		} else if(Ctype == "convertStruct2") {
			//return cleanText(txt);
			let txtcontent = colArr.map((item) => `, ${some}${item}${some}${" ".repeat(maxLength - item.length)} : `).join("\n");
			return txtcontent;
				
		} else if(Ctype == "dataSet") {
			var txtHeader = 
			"  //" + `Obj${id}${type}
String s_Obj${id}${type} = (String)param.get("Obj${id}${type}");
Object obj_${type} = parser.parse(s_Obj${id}${type});
JSONObject jsonObj_${type} = (JSONObject) obj_${type};

`;
			if(jusukArr.length > 0) {
				let txtcontent = colArr.map((item, index) => `Obj${id}${type}.put("${item}"${" ".repeat(maxLength - item.length)}, jsonObj_${type}.get("${item}"${" ".repeat(maxLength - item.length)}));`
				+ "    //" + jusukArr[index]).join("\n");
				return txtHeader + txtcontent;
			} else {
				let txtcontent = colArr.map((item, index) => `Obj${id}${type}.put("${item}"${" ".repeat(maxLength - item.length)}, jsonObj_${type}.get("${item}"${" ".repeat(maxLength - item.length)}));`
				).join("\n");
				return txtHeader + txtcontent;
			}
			
			
		} else if(Ctype == "list") {
			var txtHeader = 
			"  //" + `Ary${id}${type}
String s_Ary${id}${type} = (String)param.get("Ary${id}${type}");
Object obj_${type} = parser.parse(s_Ary${id}${type});
org.json.simple.JSONArray JsonAry_${type} = (org.json.simple.JSONArray) obj_${type};

for( int i = 0; i < JsonAry_${type}.size(); i++ ) {
    DataSet tmp_${type} = new DataSet();
    JSONObject jsonObj_${type} = new JSONObject();
    jsonObj_${type} = (JSONObject) JsonAry_${type}.get(i);

`;
			
let txtFooter = 
`

    Ary${id}${type}.add(i, tmp_${type});
}`;

			if(jusukArr.length > 0) {
				let txtcontent = colArr.map((item, index) => `    tmp_${type}.put("${item}"${" ".repeat(maxLength - item.length)}, jsonObj_${type}.get("${item}"${" ".repeat(maxLength - item.length)}));`
			+ "    //" + jusukArr[index]).join("\n");
			return txtHeader + txtcontent + txtFooter;
			} else {
				let txtcontent = colArr.map((item, index) => `    tmp_${type}.put("${item}"${" ".repeat(maxLength - item.length)}, jsonObj_${type}.get("${item}"${" ".repeat(maxLength - item.length)}));`
			).join("\n");
			return txtHeader + txtcontent + txtFooter;
			}
			
			
			
		}
	};
	/*==================================
	  그리드 변환
	==================================*/
	function makeGrid(type, txt) {
		var content = "";
		const parser = new DOMParser();
		const doc = parser.parseFromString(txt, 'text/html');
		if(type == "colNames") {
			//value="" 형식에서 colNames 추출
			let colArr = txt.match(/(?<=\s*value\s*\=\s*\")[^"]+(?=\")/gim);
			
			//앞뒤 언더바 제거하고 작은따옴표로 감싸기
			//한줄에 5개씩 문자 출력
			content = colArr.map((item, index) => {
				let newItem = "'" + delUnder(item) + "'";
				return index % 5 === 4 ? newItem + ",\n" : newItem + ",";
			}).join("").slice(0, -1);
			return content;
		} 
		if(type == "colNames2") {
			//value="" 형식에서 colNames 추출
			let colArr = txt.match(/([\wㄱ-ㅎㅏ-ㅣ가-힣]+)/gim);
			
			//앞뒤 언더바 제거하고 작은따옴표로 감싸기
			//한줄에 5개씩 문자 출력
			content = colArr.map((item, index) => {
				let newItem = "'" + delUnder(item) + "'";
				return index % 5 === 4 ? newItem + ",\n" : newItem + ",";
			}).join("").slice(0, -1);
			return content;
		} 
		if(type == "colModel") {
			//value="" 형식에서 colNames 추출
			let colModels = doc.getElementsByTagName('w2:column');
			let i = 0;
			let colObj = [];
			let colIdArr = [];
			for (let colModel of colModels) {
				//ID 속성
				let idMatch = colModel.getAttribute("id");
				let idValue = idMatch ? delUnder(idMatch) : null;
				colIdArr[i++] = idValue;
				
				//textalign 속성
				let alignMatch = colModel.getAttribute("textalign");
				let alignValue = 
					alignMatch ? 
					alignMatch == 'left' ? `'left'  `: 
					alignMatch == 'right' ? `'right' ` : `'center'`
					:`'center'`;

				colObj.push({ID : idValue , ALIGN : alignValue});
			}
			
			let maxLength = spacePretty(colIdArr);
			content = colObj.map(item => 
				`{name: '${item.ID}'${" ".repeat(maxLength - item.ID.length)}, align: ${item.ALIGN}, hidden: false}`
			).join(",\n");
			
			return content;
		} 
		if(type == "colModel2") {
			let colArr = txt.match(/(\w+)/gim);
			
			let maxLength = spacePretty(colArr);
			content = colArr.map(item => 
				`{name: '${item}'${" ".repeat(maxLength - item.length)}, align: 'right' , hidden: false}`
			).join(",\n");
			
			return content;
		} 
		if(type == "column") {
			let colModels = doc.getElementsByTagName('w2:column');
			let i = 0;
			let colObj = [];
			let colIdArr = [];
			let colNameArr = [];
			
			for (let colModel of colModels) {
				//ID 속성
				let idMatch = colModel.getAttribute("id");
				let idValue = idMatch ? delUnder(idMatch) : null;
				colIdArr[i++] = idValue;
				
				//name 속성
				let nameMatch = colModel.getAttribute("name");
				let nameValue = nameMatch ? delUnder(nameMatch) : null;
				colNameArr[i++] = nameValue;
				
				//textalign 속성
				let alignMatch = colModel.getAttribute("dataType");
				let alignValue = 
					alignMatch ? 
					alignMatch == 'text' ? `'left'  `: 
					alignMatch == 'number' ? `'right' ` : `'center'`
					:`'center'`;

				colObj.push({ID : idValue , ALIGN : alignValue});
			}
			
			var colNamesTxt = colNameArr.map((item, index) => {
				let newItem = "'" + delUnder(item) + "'";
				return index % 5 === 4 ? newItem + ",\n" : newItem + ",";
			}).join("").slice(0, -1);
			
			let maxLength = spacePretty(colIdArr);
			var colModelTxt = colObj.map(item => 
				`{name: '${item.ID}'${" ".repeat(maxLength - item.ID.length)}, align: ${item.ALIGN}, hidden: false}`
			).join(",\n");
			
			content = colNamesTxt + "\n\n\n"+ colModelTxt;
			return content;
		} 
		
		if(type == "gridAll") {
			//<w2:column></w2:column> 문장 추출
			let colNames = doc.getElementsByTagName('w2:header')[0].getElementsByTagName('w2:row')[0].getElementsByTagName('w2:column');
			let colModels = doc.getElementsByTagName('w2:gBody')[0].getElementsByTagName('w2:row')[0].getElementsByTagName('w2:column');

			let colObj = [];
			let colIdArr = [];
			let colNameArr = [];
			
			let i = 0;
			for (let j=0; i< colModels.length; j++) {
				//colNames
				let colName = colNames[j].getAttribute("value");
				colNameArr[i] = colName;
				
				//hidden 속성
				let hiddenMatch = colNames[j].getAttribute("hidden");
				console.warn(hiddenMatch);
				let hiddenValue = 
					hiddenMatch ? 
					hiddenMatch == 'true' ? 'true ': 'false'
					:'false';
					
				//ID 속성
				let idMatch = colModels[j].getAttribute("id");
				let idValue = idMatch ? delUnder(idMatch) : null;
				colIdArr[i] = idValue;
				
				//textalign 속성
				let alignMatch = colModels[j].getAttribute("textalign");
				let alignValue = 
					alignMatch ? 
					alignMatch == 'left' ? `'left'  `: 
					alignMatch == 'right' ? `'right' ` : `'center'`
					:`'center'`;

				colObj.push({ID : idValue , ALIGN : alignValue, HIDDEN : hiddenValue});
				i++;
			}
			
			let colNameText = colNameArr.map((item, index) => {
				let newItem = "'" + delUnder(item) + "'";
				return index % 5 === 4 ? newItem + ",\n\t\t\t" : newItem + ",";
			}).join("").slice(0, -1);
			
			let maxLength = spacePretty(colIdArr);
			let colModelText = colObj.map(item => 
				`{name: '${item.ID}'${" ".repeat(maxLength - item.ID.length)}, align: ${item.ALIGN}, hidden: ${item.HIDDEN}}`
			).join(",\n\t\t\t");
			
			content = txtStorage(10, colNameText,colModelText);
			
			return content;
			
		} else if(type == "colSum") {
			//expression=SUM('') 형식의 col명 추출
			let colArr = txt.match(/(?<=(SUM|sum)\s*\(\')[\S]*(?=\')/gim).map(item => delUnder(item));
			
			let maxLength = spacePretty(colArr);
			let Con1 = colArr.map((item, index) => `var CountSum${index} = $("#grd_MAIN").jqGrid('getCol', '${item}'${" ".repeat(maxLength - item.length)}, false, 'sum');`).join("\n");
			let temp = "\n\n$('#grd_MAIN').jqGrid('footerData', 'set', {\n\t하단헤더 : '합계',\n\t" ;
			let Con2 = colArr.map((item, index) => `${item}${" ".repeat(maxLength - item.length)} : CountSum${index}`).join(", \n\t");
			content = Con1 + temp + Con2 +  '\n});';
			return content;
		} else if(type == "colSum2") {
			//줄바꿈 기준으로 추출
			let colArr = txt.match(/.+/gim);
			
			let maxLength = spacePretty(colArr);
			let Con1 = colArr.map((item, index) => `var CountSum${index} = $("#grd_MAIN").jqGrid('getCol', '${item}'${" ".repeat(maxLength - item.length)}, false, 'sum');`).join("\n");
			let temp = "\n\n$('#grd_MAIN').jqGrid('footerData', 'set', {\n\t하단헤더 : '합계',\n\t" ;
			let Con2 = colArr.map((item, index) => `${item}${" ".repeat(maxLength - item.length)} : CountSum${index}`).join(", \n\t");
			content = Con1 + temp + Con2 +  '\n});';
			return content;
		}else if(type == "table") {
			//줄바꿈 기준으로 추출
			let colArr = txt.match(/.+/gim);
			
			//*로 끝나는건 필수태그 달기
			let txtTHTD = colArr.map(item => 
				item.endsWith('*') ? 
				'<th>'+item.replace('*', '')+'<em class="vital">필수</em></th>'+
				'\n\t<td>'+
				'\n\t\t<div class="inpItem">' + 
				'\n\t\t\t<input type="text" class="inpText req" id="ipt_" title="'+item.replace('*', '')+'">'+
				'\n\t\t</div>' + 						
				'\n\t</td>' :
				'<th>'+item+'</th>'+
				'\n\t<td>'+
				'\n\t\t<div class="inpItem">'+
				'\n\t\t\t<input type="text" class="inpText" id="ipt_" title="'+item+'">'+
				'\n\t\t</div>'+					
				'\n\t</td>'
			).join("\n");
			
			//입력한 숫자대로 행(tr) 나누기
			const inputValue = document.getElementById('inCol').value;
			let colNewArr = txtTHTD.match(/<th[^>]*>.*?<\/td>/gs);
			
			let trArr = [];
			for (let i = 0; i < colNewArr.length; i += parseInt(inputValue)) {
			  let pair = colNewArr.slice(i, i + parseInt(inputValue));
			  trArr.push('<tr>\n\t'+ pair.join('\n\t') +'\n</tr>');
			}
			content = trArr.join("\n");
			return content;
		} else if(type == "btn") {
			//줄바꿈 기준으로 추출
			var colArr = txt.match(/.+/gim);
			
			content = colArr.map(item => 
				'<button type="button" class="btnm btnLineGray type2" value="'+item+'" title="'+item+'"><b><span>'+item+'</span></b></button>'
			).join("\n");
			return content;
		} else if(type == "input") {
			let selTags = doc.getElementsByTagName('xf:input')[0];
			let idMatch = selTags.getAttribute("id");
			let idValue = idMatch ? 'ipt_' + delUnder(idMatch) : null;
			let dataMatch = selTags.getAttribute("datatype");
			let dataValue = dataMatch ? 
							dataMatch == 'bigDecimal' ? true :
							dataMatch == 'integer' ? true : false
							: null;
			
			content = dataValue ? txtStorage(4, idValue , "") : txtStorage(3, idValue , "")
			return content;
		
		} else if(type == "inputcalendar") {
			let selTags = doc.getElementsByTagName('w2:inputcalendar')[0];
			let idMatch = selTags.getAttribute("id");
			let idValue = idMatch ? 'ipc_' + delUnder(idMatch) : null;
			
			content = txtStorage(6, idValue , "");
			return content;
		
		} else if(type == "select") {
			let selTags = doc.getElementsByTagName('xf:select1')[0];
			let idMatch = selTags.getAttribute("id");
			let idValue = idMatch ? 'sel_' + delUnder(idMatch) : null;
				
			var labelArr = txt.match(/(?<=<xf:label\>\<!-*\[CDATA\[).*(?=\]\])/gim);
			var valueArr = txt.match(/(?<=<xf:value\>\<!-*\[CDATA\[).*(?=\]\])/gim);
			let text = "";
			if(labelArr != null ||valueArr != null) {
				text = labelArr.map((label, index) => 
					'<option value="'+valueArr[index]+'">'+label+'</option>'
				).join("\n\t");
			}
			content = txtStorage(5, idValue , "", text);
			return content;
		} else if(type == "tableAll") {
			function parseGroupTags(parentNode) {
				const groupTags = parentNode.getElementsByTagName('xf:group');
				var cnt = 0;
				var cnt2 = 0;
				var title = [];
				for (let i = groupTags.length - 1; i >= 0; i--) {
					const groupTag = groupTags[i];
					const tName = groupTag.getAttribute('tagname');
					// 새로운 태그 생성
					const newTag = doc.createElement(tName);
					const attributes = groupTag.attributes;
					for (let j = 0; j < attributes.length; j++) {
						const { name, value } = attributes[j];
						let w2Attr = groupTag.getElementsByTagName('w2:attributes')[0];
						let txtbox = groupTag.getElementsByTagName('w2:textbox')[0];
						let inputBox = groupTag.getElementsByTagName('w2:input')[0];
						let cols   = w2Attr ? w2Attr.getElementsByTagName('w2:colspan')[0] : null;
						let rows   = w2Attr ? w2Attr.getElementsByTagName('w2:rowspan')[0] : null;
						let combos = groupTag.getElementsByTagName('xf:select1')[0];

						//colgroup 
						if(name === "tagname" && value === "col") {
							cnt%2==1 ? 
							newTag.setAttribute('style', 'width:120px') : 
							newTag.setAttribute('style', '*');
							cnt++;
						}
						
						//th 생성
						else if(name === "tagname" && value === "th") {
							//th 텍스트
							if(txtbox) {
								let thTitle = txtbox.getAttribute('label');
								title[i] = thTitle;
								newTag.prepend(doc.createTextNode(thTitle));
								txtbox.parentNode.removeChild(txtbox);
							}
							
							//열, 행 병합
							if(w2Attr) {
								if(cols) {
									let colsNum = Number(cols.textContent);
									if( colsNum > 1) {newTag.setAttribute('colspan', colsNum);}						
								}
								if(rows) {
									let rowNum = Number(rows.textContent);
									if( rowNum > 1) {newTag.setAttribute('rowspan', rowNum);}						
								}
								w2Attr.parentNode.removeChild(w2Attr);
								groupTag.replaceChildren();
							}
						}
						
						//td 생성
						else if(name === "tagname" && value === "td") {
							//열, 행 병합
							if(w2Attr) {
								if(cols) {
									let colsNum = Number(cols.textContent);
									if( colsNum > 1) {newTag.setAttribute('colspan', colsNum);}						
								}
								if(rows) {
									let rowNum = Number(rows.textContent);
									if( rowNum > 1) {newTag.setAttribute('rowspan', rowNum);}						
								}
								w2Attr.parentNode.removeChild(w2Attr);
								//groupTag.replaceChildren();
							}
						}
						//필수 클래스 추가
						else if(name === "class" && value.includes('req')){
							let vitalElement = doc.createElement('em');
							vitalElement.setAttribute('class', 'vital');
							vitalElement.textContent = '필수';
							newTag.appendChild(vitalElement);
						}
						
						
					} //for end

					// 하위 그룹 태그들을 변환하여 교체
					parseGroupTags(groupTag);
					while (groupTag.firstChild) {
						newTag.appendChild(groupTag.firstChild);
					}
			
					// 변환된 태그로 교체
					groupTag.parentNode.replaceChild(newTag, groupTag);
				}

			} //function end
			parseGroupTags(doc.documentElement);
		
			const tdTags = doc.getElementsByTagName('td');
			for(let tdTag of tdTags) {
				let title = tdTag.previousElementSibling.firstChild ? tdTag.previousElementSibling.firstChild.textContent : "";
				let reqGB = tdTag.previousElementSibling.lastChild ? tdTag.previousElementSibling.lastChild.nodeName.toLowerCase() == 'em' ? true : false : false;
				let inputCnt=0;
				for(let child of tdTag.childNodes) {
					if(child.nodeType === 3 && child.textContent.trim() === '') {
						child.textContent = child.textContent.replace(/\s+/g, "");
				    } 
					if(child.nodeName == 'NULL'){
						var children = Array.from(child.childNodes);
						children.forEach(function(aa) {
						  child.parentNode.insertBefore(aa, child);
						});
						child.parentNode.removeChild(child);
					}
					if(child.nodeName == 'XF:INPUT') {
						let idMatch = child.getAttribute("id");
						let idValue = idMatch ? 'ipt_' + delUnder(idMatch) : null;
						let dataMatch = child.getAttribute("datatype");
						let dataValue = dataMatch ? 
										dataMatch == 'bigDecimal' || dataMatch == 'float' || dataMatch == 'integer' ? true : false
										: false;
						
						let newInput = doc.createElement("input");
						newInput.setAttribute("type", "text");
						let cls = "inpText";
						cls = reqGB ? cls + " req" : cls;
						cls = dataValue ? cls + " num" : cls;
						newInput.setAttribute("class", cls);
						newInput.setAttribute("id", idValue);
						newInput.setAttribute("title", title);
							
						//input 태그 생성
						if(inputCnt==0) {
							let newDiv = doc.createElement("div");
							newDiv.setAttribute("class", "inpItem");
							
							newDiv.appendChild(newInput);
							child.parentNode.replaceChild(newDiv, child); 
						} else {
							//검색형
							if (child.previousElementSibling.firstChild.tagName === "INPUT") {
								child.previousElementSibling.firstChild.setAttribute("style", "width:30%;");
							}
							
							newInput.setAttribute("style", "width:60%;");
							
							appendWithIndentation(child.previousElementSibling, 1);
							child.previousElementSibling.insertBefore(newInput, null);
							child.parentNode.removeChild(child);
							
						}
						inputCnt++;
					}
					
					if(child.nodeName == 'W2:INPUTCALENDAR') {
						let idMatch = child.getAttribute("id");
						let idValue = idMatch ? 'ipc_' + delUnder(idMatch) : null;
						
						let newDiv = doc.createElement("div");
						newDiv.setAttribute("class", "inpItem");
						
						let newSpan = doc.createElement("span");
						newSpan.setAttribute("class", "calDate");
						
						let newInput = doc.createElement("input");
						newInput.setAttribute("type", "text");
						newInput.setAttribute("id", idValue);
						newInput.setAttribute("title", title);
						reqGB ? newInput.setAttribute("class", "inpText pdate req") : newInput.setAttribute("class", "inpText pdate");
						newInput.setAttribute("style", "width:90px");
						newInput.setAttribute("maxlength", "10");
						
						newDiv.appendChild(newSpan);
						newSpan.appendChild(newInput);
						child.parentNode.replaceChild(newDiv, child);
					}
					
					if(child.nodeName == 'XF:SELECT1' && !child.hasAttribute("renderType")) {
						let idMatch = child.getAttribute("id");
						let idValue = idMatch ? 'sel_' + delUnder(idMatch) : null;
						
						let newDiv = doc.createElement("div");
						newDiv.setAttribute("class", "inpItem");
						
						let newSelect = doc.createElement("select");
						newSelect.setAttribute("title", title);
						reqGB ? newSelect.setAttribute("class", "select req") : newSelect.setAttribute("class", "select");
						newSelect.setAttribute("id", idValue);
						
						const choices = child.querySelectorAll('xf\\:item');
						if(!choices || choices.length == 0) {
							let newOption = doc.createElement("option");
								newOption.setAttribute("value","");
								newOption.appendChild(doc.createTextNode('전체'));
								newSelect.appendChild(newOption);
						} else {
							choices.forEach(choice => {
								let newOption = doc.createElement("option");
								newOption.setAttribute("value",choice.querySelector('xf\\:value').firstChild.nodeValue.replace(/(?:\-*\[CDATA\[)(.*)(?:\]\])/g, '$1'));
								newOption.appendChild(doc.createTextNode(choice.querySelector('xf\\:label').firstChild.nodeValue.replace(/(?:\-*\[CDATA\[)(.*)(?:\]\])/g, '$1')));
								newSelect.appendChild(newOption);
							});
						}
						
						newDiv.appendChild(newSelect);
						child.parentNode.replaceChild(newDiv, child);
					}
					if(child.nodeName == 'XF:SELECT1' && child.hasAttribute("renderType")) {
						let idMatch = child.getAttribute("id");
						let idValue = idMatch ? 'rad_' + delUnder(idMatch) : null;
						
						let newDiv = doc.createElement("div");
						newDiv.setAttribute("class", "inpItem");
						
						let newSpan1 = doc.createElement("span");
						newSpan1.setAttribute("class", "inputWrap radio ml10");
						
						const choices = child.querySelectorAll('xf\\:item');
						choices.forEach((choice, index) => {
							let newSpan2 = doc.createElement("span");
							newSpan2.setAttribute("class", "radio");
							
							let newInput = doc.createElement("input");
							newInput.setAttribute("type", "radio");
							newInput.setAttribute("id", idValue + "_" + (index+1));
							newInput.setAttribute("name", idValue);
							newInput.setAttribute("value",choice.querySelector('xf\\:value').firstChild.nodeValue.replace(/(?:\-*\[CDATA\[)(.*)(?:\]\])/g, '$1'));
							
							let newLabel = doc.createElement("label");
							newLabel.setAttribute("for", idValue + "_" + (index+1));
							newLabel.appendChild(doc.createTextNode(choice.querySelector('xf\\:label').firstChild.nodeValue.replace(/(?:\-*\[CDATA\[)(.*)(?:\]\])/g, '$1')));
							
							newSpan2.appendChild(newInput);
							newSpan2.appendChild(newLabel);
							newSpan1.appendChild(newSpan2);
						});
						
						newDiv.appendChild(newSpan1);
						child.parentNode.replaceChild(newDiv, child);
					}
					
					if(child.nodeName == 'XF:SELECT') {
						let idMatch = child.getAttribute("id");
						let idValue = idMatch ? 'chk_' + delUnder(idMatch) : null;
						
						let newDiv = doc.createElement("div");
						newDiv.setAttribute("class", "inpItem");
						
						let newDiv2 = doc.createElement("div");
						newDiv2.setAttribute("class", "checkbox ml10");
						
						let newInput = doc.createElement("input");
						newInput.setAttribute("type", "checkbox");
						newInput.setAttribute("name", idValue);
						newInput.setAttribute("id", idValue);
						
						let newLabel = doc.createElement("label");
						newLabel.setAttribute("for", idValue);
						newLabel.appendChild(doc.createTextNode(title));
						
						newDiv.appendChild(newDiv2);
						newDiv2.appendChild(newInput);
						newDiv2.appendChild(newLabel);
						child.parentNode.replaceChild(newDiv, child);
					}
					if(child.nodeName == 'W2:ANCHOR') {
						let idMatch = child.previousElementSibling.firstChild? child.previousElementSibling.firstChild.getAttribute("id") : null;
						let idValue = idMatch ? 'btn_' + delUnder(idMatch) + 'HELP': null;
						
						let newA = doc.createElement("a");
						newA.setAttribute("href", "#this");
						newA.setAttribute("class", "btnSch");
						newA.setAttribute("id", idValue);
						newA.appendChild(doc.createTextNode('검색'));
						
						//child.parentNode.replaceChild(newA, child);
						child.previousElementSibling.setAttribute("class", "inpItem sch");
						child.previousElementSibling.setAttribute("style", "width:80%;");
						appendWithIndentation(child.previousElementSibling, 1);
						child.previousElementSibling.insertBefore(newA, null);
						child.parentNode.removeChild(child);
					}
					
				}
				
			}
			
			
			const options = { indent_size: 4, space_in_empty_paren: false, extra_liners: ['span','/span','input', 'label', 'select']};
			const dataObj =  doc.querySelector('body').innerHTML;
			content = html_beautify(dataObj, options).replace(/^\s*$(?:\r\n?|\n)/gm, '');
			
			return content;
		} else if(type == "init") {
			let Itags = doc.getElementsByTagName('input');
			let Stags = doc.getElementsByTagName('select');
			
			let matchObj1 = [];
			let SenArr1 = [];
			let matchObj2 = [];
			let SenArr2 = [];
			
			for(let i=0; i<Itags.length; i++) {
				let idMatch = Itags[i].getAttribute("id");
				let idValue = idMatch ? "$('#" + idMatch  + "').val(" + '"");' : null;
				
				let titleMatch = Itags[i].getAttribute("title");
				let titleValue = titleMatch ? '// ' + titleMatch : null;
				
				matchObj1.push({ SENTENCE : idValue, JUSUK: titleValue });
				SenArr1[i] = idValue;
			}
			
			for(let i=0; i<Stags.length; i++) {
				let idMatch = Stags[i].getAttribute("id");
				let idValue = idMatch ? "$('#" + idMatch  + "').val(" + '"").attr("selected", true);' : null;
				
				let titleMatch = Stags[i].getAttribute("title");
				let titleValue = titleMatch ? '// ' + titleMatch : null;
				
				matchObj2.push({ SENTENCE : idValue, JUSUK: titleValue });
				SenArr2[i] = idValue;
			}
			
			
			let maxLength1 = spacePretty(SenArr1);
			let maxLength2 = spacePretty(SenArr2);
			let con1 = matchObj1.map(item => 
				`${item.SENTENCE}${" ".repeat(maxLength1 - item.SENTENCE.length)}  ${item.JUSUK}`
			).join("\n");
			
			let con2 = matchObj2.map(item => 
				`${item.SENTENCE}${" ".repeat(maxLength2 - item.SENTENCE.length)}  ${item.JUSUK}`
			).join("\n");
			
			return con1 + "\n" + con2;
		}
	};

	/*==================================
	  복사 저장소
	==================================*/
	function customCopy(num, id, title, btnId, nmId, title2) {
		const $textarea = document.createElement("textarea");
		document.body.appendChild($textarea);
		 
		let text = "";
		text = txtStorage(num, id, title, btnId, nmId, title2);
		
		$textarea.value = text;
  		$textarea.select();
		document.execCommand('copy');
  		document.body.removeChild($textarea);
		toast('복사완료');
	};
	
	function txtStorage(num, id, title, btnId, nmId, title2) {
		let text = "";
		switch(num) {
			case 1 : 
			text = 
`<em class="vital">필수</em>`;
			break;

			case 2 : 
			text = 
`<div class="inpItem sch">
										<input type="text" class="inpText req" id="${id}" title="${title}"  style="width:30%;">
										<a href="#this" class="btnSch" id="${btnId}">검색</a>
										<input type="text" class="inpText" id="${nmId}" title="${title2}"  style="width:60%;" disabled>
									</div>`
			break;

			case 3 : 
			text = 
`<div class="inpItem">
										<input type="text" class="inpText" id="${id}" title="${title}">
	                                </div>`
			break;

			case 4 : 
			text = 
`<div class="inpItem">
										<input type="text" class="inpText num" id="${id}" title="${title}">
	                                </div>`
			break;

			case 5 : 
			let allGB = isEmpty(btnId) ? `<option value="">전체</option>` : btnId;
			text= 
`<div class="inpItem">
                                        <select title="${title}" class="select" id="${id}"> 
                                            ${allGB}
                                        </select>
                                    </div>`
			break;
			
			case 6 : 
			text = 
`<div class="inpItem">
                                       <span class="calDate">
                                       		<input type="text" id="${id}" title="${title}" class="inpText pdate" style="width:90px" maxlength="10"/>
                                       </span>
                                    </div>`
			break;
			
			case 7 : 
			text= 
`<div class="inpItem">
                                        <span class="calDate">
											<input type="text" id="ipc_ILJAFROM_INQ" title="일자from" class="inpText pdate" style="width:90px" maxlength="10"/>
											<em class="dash">~</em>
											<input type="text" id="ipc_ILJATO_INQ" title="일자to" class="inpText pdate" style="width:90px" maxlength="10"/>
										</span>
                                    </div>`			
			break;
			
			case 8 : 
			text= 
`<div class="inpItem">
										<span class="inputWrap radio ml10" > 
						                    <span class="radio">
						                        <input type="radio" id="rad_SUIBGB_1" name="rad_SUIBGB"  value = "1" />
						                        <label for="rad_SUIBGB_1">고정</label>
						                    </span>
						                    <span class="radio"  >
						                        <input type="radio" id="rad_SUIBGB_2" name="rad_SUIBGB" value = "2" checked/>
						                        <label for="rad_SUIBGB_2">변동</label>
						                    </span>
						                </span>		
					                </div>`			
			break;

			case 9 : 
			text= 
`<div class="inpItem">
							        	<div class="checkbox ml10">
	                                    	<input type="checkbox" name="chk_WONGUMBYUL" id="chk_WONGUMBYUL">
	                                    	<label for="chk_WONGUMBYUL">원금별 입력</label>
	                                    </div>
                                    </div>`			
			break;
			
			case 10 : 
			let foot = isEmpty(btnId) ? '' : btnId;
			text= 
`$("#grd_MAIN").jqGrid({
         datatype : "local"
        ,height : 430							
        ,autowidth : true						// true 설정 시 그리드의 상위 Element의 width로 자동으로 계산됨.
        ,viewrecords: true
       	,emptyrecords : "조회된 결과가 없습니다."		// 데이터 없을 때
   		,colNames:[
			${id}
   		]
   		,colModel:[
			${title}
		]
        ,caption: "내역"
        ,onSelectRow: function(index, iCol){	//row 선택시 이벤트 실행
        	grd_MAIN_oncellindexchange($("#grd_MAIN").getRowData(index));
        }
		${foot}
	});`			
			break;
			
			case 11 : 
			text= 
			`style="width:80%;"`			
			break;
			
			case 12 : 
			text= 
`		,footerrow: true  
		,userDataOnFooter : true
		,gridComplete : function ()  
		{
		}`
			break;
			
			case 13 : 
			text= 
			`,shrinkToFit : false		//가로스크롤`			
			break;
			
			case 14 : 
			text= 
			`,multiselect : true 			        // 그리드 전체선택
			,multiboxonly : false			        // 다중선택을 단일 선택으로 제한`			
			break;
			
			case 15 : 
			text= 
			`var ListCount = $("#grd_MAIN").getGridParam("reccount"); //그리드 건수
			'( 건수 : ' + ListCount + ' )'`			
			break;
			
			case 16 : 
			text= '<'+'%'+'@'+` page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<` + `%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<` + `!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<` + `html>
<` + `head>
<` + `script type="text/javascript" src="<c:url value='/js/com/jquery-1.12.4.min.js' />" ><` + `/script>
<` + `script type="text/javascript" src="<c:url value='/js/com/jquery-ui_1.12.1.js' />" ><` + `/script>

<` + `meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<` + `script type="text/javaScript" language="javascript">`
			break;
			
			case 17 : 
			text = 
			`<button type="button" class="btnm btnLineGray type2" value="조회" title="조회" id="btn_SEARCH"><b><span>조회</span></b></button>`;
			
			case 18 : 
			text = 
			`<button type="button" class="btnm btnLineGray type2" value="입력" title="입력" id="btn_INSERT"><b><span>입력</span></b></button>`
			
			case 19 : 
			text = 
			`<button type="button" class="btnm btnLineGray type2" value="취소" title="취소" id="btn_CANCEL"><b><span>취소</span></b></button>`
			
			case 20 : 
			text = 
			`<button type="button" class="btnm btnLineGray type2" value="삭제" title="삭제" id="btn_DELETE"><b><span>삭제</span></b></button>`
			
			case 21 : 
			text = 
			`<button type="button" class="btnm btnLineGray type2" value="저장" title="저장" id="btn_SAVE"><b><span>저장</span></b></button>`
			break;
			
			case 22 : 
			text = 
			` 
 /*********************************************************
  * 이벤트
  *********************************************************/
 $(document).ready(function() {
	// 입력 서브
	$('#btn_INSERT').click(function(e) {
		fnInsertOnClick()
	});
 });
 
 /*********************************************************
  * 버튼 클릭시
  *********************************************************/
  function fnInsertOnClick() {
	var sUrl = "/openScreenUrl.do?";
		
	sUrl += "url=eTravis/oProdOper/swap/ETR19231P1"
	
	var $dialog = $('<div></div>')
	    .html('<iframe style="border: 0px; " src="' + sUrl + '" width="100%" height="100%"></iframe>')
	    .dialog({
	    	autoOpen: false,
	        modal: true,
	        width: 1500,
	        height: 750,
	        resizable:false,
	        title: "거래 입력",
	        open:function(event,ui){ $(".ui-dialog-titlebar-close").hide();},
	        buttons: {
	            Cancel: function() {
	            	   var resultData = [];
	         	  	 $dialog.dialog('close');
	            }
	         },
	         close:function() {
	
	         }
		});
	
	$dialog.dialog('open');
}; `
			break;
			
			
		}

		return text;
	};
	
	function isEmpty(str){
		if(typeof str == "undefined" || str == null || str == "")
			return true;
		else
			return false ;
	};
	
	
	function createIndentation(level) {
	  var indent = '';
	  for (var i = 0; i < level; i++) {
		indent += '\n\t';
	  }
	  return indent;
	}
	
	function appendWithIndentation(parent, indentLevel) {
	  var indentation = createIndentation(indentLevel);
	  var textNode = document.createTextNode(indentation);
	  parent.appendChild(textNode);
	}
</script>
</body>
</html>